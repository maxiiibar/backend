paths:
  /carts:
    get:
      tags:
        - Carts
      summary: Obtener todos los carritos.
      responses:
        200:
          description: Lista de carritos obtenida con éxito.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartsResponse"
        401:
          description: Persona no autorizada para acceder a este recurso.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/UnauthorizedCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
    post:
      tags:
        - Carts
      summary: Crear un carrito nuevo.
      responses:
        200:
          description: Carrito creado exitosamente.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartEmptyResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
  /carts/{id}:
    get:
      tags:
        - Carts
      summary: Obtener un carrito por ID u "own para obtener el propio".
      parameters:
        - in: path
          name: id u "own"
          required: true
          description: ID del carrito u "own".
          schema:
            type: string
            example: 60d21b5267d0d8992e610c88
      responses:
        200:
          description: Carrito encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
    put:
      tags:
        - Carts
      summary: Actualizar un carrito por ID.
      parameters:
        - in: path
          name: id
          required: true
          description: ID del carrito.
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/parameters/schemas/Carts"
        required: true
      responses:
        200:
          description: Carrito actualizado exitosamente.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        404:
          description: Carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
    delete:
      tags:
        - Carts
      summary: Eliminar un carrito por ID.
      parameters:
        - in: path
          name: id
          required: true
          description: ID del carrito.
          schema:
            type: string
      responses:
        200:
          description: Carrito eliminado exitosamente.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
  /carts/product/{idProd}:
    post:
      tags:
        - Carts
      summary: Agregar un producto al carrito.
      parameters:
        - in: path
          name: idProd
          required: true
          description: ID del producto.
          schema:
            type: string
      responses:
        200:
          description: Producto agregado al carrito con éxito.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Producto o carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
    delete:
      tags:
        - Carts
      summary: Eliminar un producto del carrito.
      parameters:
        - in: path
          name: idProd
          required: true
          description: ID del producto.
          schema:
            type: string
      responses:
        200:
          description: Producto eliminado del carrito con éxito.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Producto o carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
    put:
      tags:
        - Carts
      summary: Actualizar la cantidad de un producto en el carrito.
      parameters:
        - in: path
          name: idProd
          required: true
          description: ID del producto.
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  example: 3
        required: true
      responses:
        200:
          description: Cantidad del producto actualizada con éxito.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Carrito o producto no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
  /carts/:idCart/product/{idProd}:
    post:
      tags:
        - Carts
      summary: Agregar un producto al carrito por params.
      parameters:
        - in: path
          name: idCart
          required: true
          description: ID del carrito.
          schema:
            type: string
        - in: path
          name: idProd
          required: true
          description: ID del producto.
          schema:
            type: string
      responses:
        200:
          description: Producto agregado al carrito con éxito.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Producto o carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
  /carts/clear/mycart:
    delete:
      tags:
        - Carts
      summary: Limpiar el carrito propio.
      responses:
        200:
          description: Carrito limpiado exitosamente.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
  /carts/clear/{idCart}:
    delete:
      tags:
        - Carts
      summary: Limpiar un carrito por params.
      parameters:
        - in: path
          name: idCart
          required: true
          description: ID del carrito.
          schema:
            type: string
      responses:
        200:
          description: Carrito limpiado exitosamente.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/OkCartResponse"
        400:
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/BadRequestCartResponse"
        404:
          description: Carrito no encontrado.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/NotFoundCartResponse"
        500:
          description: Error del servidor.
          content:
            application/json:
              schema:
                $ref: "#/components/schema/Carts/InternalServerErrorCartResponse"
